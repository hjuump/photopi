<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>포토파이</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
    <script>
      function checkProximity() {
        fetch('/check_proximity')
          .then((response) => response.json())
          .then((data) => {
            document.getElementById(
              'distance'
            ).innerText = `센서와의 거리: ${data.distance} cm`;
            if (data.is_near) {
              window.location.href = '/enter';
            }
          })
          .catch((error) => console.error('Error:', error));
      }
      setInterval(checkProximity, 1000);
    </script>
  </head>
  <body>
    <header class="screen-header">
      <div class="screen-header__row">
        <span class="screen-header__text">2024 Project</span>
      </div>
      <div class="screen-header__row">
        <span class="screen-header__text">Photo Pi</span>
        <img id="pi-logo" src="logo.svg" />
      </div>
    </header>
    <main>
      <div class="photopi-title">
        <div>Welcome to</div>
        <div>Photo Pi</div>
      </div>

      <div>
        <div class="sensor-bar">
          <div class="sensor-bar__outer">
            <div class="sensor-bar__inner"></div>
          </div>
        </div>
        <div class="sensor-bar">
          <div class="sensor-bar__info" id="distance">
            센서와의 거리: 측정 중...
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
